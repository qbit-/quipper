<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Algorithms.BWT.Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Algorithms-BWT-Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Algorithms/BWT/Main.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">The Quipper System</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Algorithms.BWT.Main</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Command line interface</a></li><li><a href="#g:2">Option processing</a></li><li><a href="#g:3">The BWT main function</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Authors: Peter Selinger, Beno&#238;t Valiron</p><p>An implementation of the Binary Welded Tree algorithm. This
 algorithm inputs an oracle encoding a graph of the following form:</p><p><img src="images/weldedtree.png"></p><p>The graph consists of two binary trees whose leaves are connected
 by two permutations as shown in the above illustration. Except for
 the roots of the two trees, all nodes have degree 3. The edges
 of the graph are colored with 4 different colors. The objective of
 the algorithm is to find the exit node (17 in the above
 illustration), given the entrance node (1 in the above
 illustration). This is done by a Trotterized quantum walk on the
 graph.</p><p>The algorithm is described in:</p><ul><li>A. M. Childs, R. Cleve, E. Deotto, E. Farhi, S. Gutmann, and
 D. A. Spielman. &quot;Exponential algorithmic speedup by a quantum
 walk.&quot; 
 <em>Proceedings of the 35th Annual ACM Symposium on Theory of Computing</em>, 
 pp. 59&#8211;68, 2003. See also <a href="http://arxiv.org/abs/quant-ph/0209131">http://arxiv.org/abs/quant-ph/0209131</a>.</li></ul><p>The present implementation is based on detailed algorithm and
 oracle specifications that were provided to us by the IARPA QCS
 program and written by Travis Humble.</p><p>Modules:</p><ul><li><a href="Algorithms-BWT-Main.html">Algorithms.BWT.Main</a>: Command line interface.</li><li><a href="Algorithms-BWT-Definitions.html">Algorithms.BWT.Definitions</a>: Some general-purpose definitions.</li><li><a href="Algorithms-BWT-BWT.html">Algorithms.BWT.BWT</a>: The implementation of the main Binary
 Welded Tree algorithm and oracle, using a more-or-less imperative
 programming style.</li><li><a href="Algorithms-BWT-Alternative.html">Algorithms.BWT.Alternative</a>: Alternate implementations of the
 main algorithm and various oracles, using a more functional
 programming style.</li><li><a href="Algorithms-BWT-Template.html">Algorithms.BWT.Template</a>: Another oracle implementation, using
 Quipper's &quot;build_circuit&quot; feature to automatically extract a
 quantum circuit from a classical functional program.</li><li><a href="Algorithms-BWT-Simulate.html">Algorithms.BWT.Simulate</a>: Functions for simulating, testing, and
 debugging oracles.</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:WhatToShow">WhatToShow</a><ul class="subs"><li>= <a href="#v:Circuit">Circuit</a></li><li>| <a href="#v:Oracle">Oracle</a></li><li>| <a href="#v:Graph">Graph</a></li><li>| <a href="#v:OracleC">OracleC</a></li><li>| <a href="#v:Simulate">Simulate</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:OracleSelect">OracleSelect</a><ul class="subs"><li>= <a href="#v:Orthodox">Orthodox</a></li><li>| <a href="#v:Simple">Simple</a></li><li>| <a href="#v:Blackbox">Blackbox</a></li><li>| <a href="#v:Classical">Classical</a></li><li>| <a href="#v:Template">Template</a></li><li>| <a href="#v:TemplateOptim">TemplateOptim</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a> = <a href="#v:Options">Options</a> {<ul class="subs"><li><a href="#v:what">what</a> :: <a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a></li><li><a href="#v:format">format</a> :: <a href="Quipper-Printing.html#t:Format">Format</a></li><li><a href="#v:gatebase">gatebase</a> :: <a href="QuipperLib-Decompose-GateBase.html#t:GateBase">GateBase</a></li><li><a href="#v:oracle">oracle</a> :: <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a></li><li><a href="#v:n">n</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></li><li><a href="#v:c">c</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></li><li><a href="#v:s">s</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></li><li><a href="#v:dt">dt</a> :: <a href="Quipper-Circuit.html#t:Timestep">Timestep</a></li></ul>}</li><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="Algorithms-BWT-Main.html#t:Options">Options</a></li><li class="src short"><a href="#v:options">options</a> :: &#91;<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-Console-GetOpt.html#t:OptDescr">OptDescr</a> (<a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> <a href="Algorithms-BWT-Main.html#t:Options">Options</a>)&#93;</li><li class="src short"><a href="#v:oracle_enum">oracle_enum</a> :: &#91;(<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a>, <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a>)&#93;</li><li class="src short"><a href="#v:dopts">dopts</a> :: &#91;<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> <a href="Algorithms-BWT-Main.html#t:Options">Options</a></li><li class="src short"><a href="#v:usage">usage</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:main">main</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:oracle_of_options">oracle_of_options</a> :: <a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="Algorithms-BWT-BWT.html#t:Oracle">Oracle</a></li></ul></div><div id="interface"><h1 id="g:1">Command line interface</h1><div class="doc"><p>This module provides a command line interface for the Binary
 Welded Tree algorithm. This allows the user, for example, to plug
 in different oracles, show different parts of the circuit, select a
 gate base, simulate, select parameters such as <em>n</em> and <em>s</em>, and
 select different output formats.</p></div><h1 id="g:2">Option processing</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WhatToShow" class="def">WhatToShow</a> <a href="src/Algorithms/BWT/Main.html#line-85" class="link">Source</a> <a href="#t:WhatToShow" class="selflink">#</a></p><div class="doc"><p>An enumeration type for determining what the main function should do.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Circuit" class="def">Circuit</a></td><td class="doc"><p>Show the whole circuit.</p></td></tr><tr><td class="src"><a id="v:Oracle" class="def">Oracle</a></td><td class="doc"><p>Show only the oracle.</p></td></tr><tr><td class="src"><a id="v:Graph" class="def">Graph</a></td><td class="doc"><p>Show colored edges computed from oracle simulation.</p></td></tr><tr><td class="src"><a id="v:OracleC" class="def">OracleC</a></td><td class="doc"><p>Show the &quot;classical&quot; oracle as a classical circuit.</p></td></tr><tr><td class="src"><a id="v:Simulate" class="def">Simulate</a></td><td class="doc"><p>Run simulations of individual circuit fragments.</p></td></tr></table></div><div class="subs instances"><p id="control.i:WhatToShow" class="caption collapser" onclick="toggleSection('i:WhatToShow')">Instances</p><div id="section.i:WhatToShow" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:WhatToShow:Show:1" class="instance expander" onclick="toggleSection('i:id:WhatToShow:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a></span> <a href="#t:WhatToShow" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:WhatToShow:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OracleSelect" class="def">OracleSelect</a> <a href="src/Algorithms/BWT/Main.html#line-94" class="link">Source</a> <a href="#t:OracleSelect" class="selflink">#</a></p><div class="doc"><p>An enumeration type for selecting an oracle.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Orthodox" class="def">Orthodox</a></td><td class="doc"><p>The &quot;orthodox&quot; oracle. </p></td></tr><tr><td class="src"><a id="v:Simple" class="def">Simple</a></td><td class="doc"><p>The &quot;simple&quot; oracle.</p></td></tr><tr><td class="src"><a id="v:Blackbox" class="def">Blackbox</a></td><td class="doc"><p>A blackbox oracle.</p></td></tr><tr><td class="src"><a id="v:Classical" class="def">Classical</a></td><td class="doc"><p>An oracle generated from classical program.</p></td></tr><tr><td class="src"><a id="v:Template" class="def">Template</a></td><td class="doc"><p>An oracle automatically generated using Template Haskell.</p></td></tr><tr><td class="src"><a id="v:TemplateOptim" class="def">TemplateOptim</a></td><td class="doc"><p>An oracle automatically generated using Template Haskell, with peep-hole optimization.</p></td></tr></table></div><div class="subs instances"><p id="control.i:OracleSelect" class="caption collapser" onclick="toggleSection('i:OracleSelect')">Instances</p><div id="section.i:OracleSelect" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:OracleSelect:Show:1" class="instance expander" onclick="toggleSection('i:id:OracleSelect:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a></span> <a href="#t:OracleSelect" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:OracleSelect:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Options" class="def">Options</a> <a href="src/Algorithms/BWT/Main.html#line-104" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p><div class="doc"><p>A data type to hold values set by command line options.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Options" class="def">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:what" class="def">what</a> :: <a href="Algorithms-BWT-Main.html#t:WhatToShow">WhatToShow</a></dfn><div class="doc"><p>What kind of thing to output.</p></div></li><li><dfn class="src"><a id="v:format" class="def">format</a> :: <a href="Quipper-Printing.html#t:Format">Format</a></dfn><div class="doc"><p>The output format.</p></div></li><li><dfn class="src"><a id="v:gatebase" class="def">gatebase</a> :: <a href="QuipperLib-Decompose-GateBase.html#t:GateBase">GateBase</a></dfn><div class="doc"><p>What kind of gates to decompose into.</p></div></li><li><dfn class="src"><a id="v:oracle" class="def">oracle</a> :: <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a></dfn><div class="doc"><p>Which kind of oracle to use.</p></div></li><li><dfn class="src"><a id="v:n" class="def">n</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The tree height.</p></div></li><li><dfn class="src"><a id="v:c" class="def">c</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The color to use with <code>--oracle</code>.</p></div></li><li><dfn class="src"><a id="v:s" class="def">s</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The parameter <em>s</em> to use.</p></div></li><li><dfn class="src"><a id="v:dt" class="def">dt</a> :: <a href="Quipper-Circuit.html#t:Timestep">Timestep</a></dfn><div class="doc"><p>The parameter <em>dt</em> to use.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Options" class="caption collapser" onclick="toggleSection('i:Options')">Instances</p><div id="section.i:Options" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Options:Show:1" class="instance expander" onclick="toggleSection('i:id:Options:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Algorithms-BWT-Main.html#t:Options">Options</a></span> <a href="#t:Options" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Options:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Algorithms-BWT-Main.html#t:Options">Options</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:defaultOptions" class="def">defaultOptions</a> :: <a href="Algorithms-BWT-Main.html#t:Options">Options</a> <a href="src/Algorithms/BWT/Main.html#line-116" class="link">Source</a> <a href="#v:defaultOptions" class="selflink">#</a></p><div class="doc"><p>The default options.</p></div></div><div class="top"><p class="src"><a id="v:options" class="def">options</a> :: &#91;<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-Console-GetOpt.html#t:OptDescr">OptDescr</a> (<a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> <a href="Algorithms-BWT-Main.html#t:Options">Options</a>)&#93; <a href="src/Algorithms/BWT/Main.html#line-129" class="link">Source</a> <a href="#v:options" class="selflink">#</a></p><div class="doc"><p>The list of command line options, in the format required by <code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-Console-GetOpt.html#v:getOpt">getOpt</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:oracle_enum" class="def">oracle_enum</a> :: &#91;(<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a>, <a href="Algorithms-BWT-Main.html#t:OracleSelect">OracleSelect</a>)&#93; <a href="src/Algorithms/BWT/Main.html#line-207" class="link">Source</a> <a href="#v:oracle_enum" class="selflink">#</a></p><div class="doc"><p>An enumeration of available oracles and their names.</p></div></div><div class="top"><p class="src"><a id="v:dopts" class="def">dopts</a> :: &#91;<a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> <a href="Algorithms-BWT-Main.html#t:Options">Options</a> <a href="src/Algorithms/BWT/Main.html#line-218" class="link">Source</a> <a href="#v:dopts" class="selflink">#</a></p><div class="doc"><p>Process <em>argv</em>-style command line options into an <code><a href="Algorithms-BWT-Main.html#t:Options">Options</a></code> structure.</p></div></div><div class="top"><p class="src"><a id="v:usage" class="def">usage</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> () <a href="src/Algorithms/BWT/Main.html#line-226" class="link">Source</a> <a href="#v:usage" class="selflink">#</a></p><div class="doc"><p>Print usage message to <code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/GHC-IO-Handle-FD.html#v:stdout">stdout</a></code>.</p></div></div><h1 id="g:3">The BWT main function</h1><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> () <a href="src/Algorithms/BWT/Main.html#line-238" class="link">Source</a> <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>Main function: read options, then execute the appropriate task.</p></div></div><div class="top"><p class="src"><a id="v:oracle_of_options" class="def">oracle_of_options</a> :: <a href="Algorithms-BWT-Main.html#t:Options">Options</a> -&gt; <a href="Algorithms-BWT-BWT.html#t:Oracle">Oracle</a> <a href="src/Algorithms/BWT/Main.html#line-263" class="link">Source</a> <a href="#v:oracle_of_options" class="selflink">#</a></p><div class="doc"><p>Compute the appropriate <code><a href="Algorithms-BWT-Main.html#v:Oracle">Oracle</a></code> for the given options.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>
