<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Libraries.Template.Lifting</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Libraries-Template-Lifting.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Libraries/Template/Lifting.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">The Quipper System</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Libraries.Template.Lifting</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Abstract syntax trees of a simplified language</a></li><li><a href="#g:2">Variable substitution</a></li><li><a href="#g:3">Downgrading Template Haskell to AST</a></li><li><a href="#g:4">Upgrade AST to Template Haskell</a></li><li><a href="#g:5">Lifting AST terms (into AST terms)</a></li><li><a href="#g:6">Various pretty printing functions</a></li><li><a href="#g:7">The main lifting functions.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module describes stripped-down Template Haskell abstract
 syntax trees (ASTs) for a subset of Haskell.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Body">Body</a> = <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Lit">Lit</a><ul class="subs"><li>= <a href="#v:CharL">CharL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Char.html#t:Char">Char</a></li><li>| <a href="#v:IntegerL">IntegerL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Prelude.html#t:Integer">Integer</a></li><li>| <a href="#v:RationalL">RationalL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Prelude.html#t:Rational">Rational</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Pat">Pat</a><ul class="subs"><li>= <a href="#v:LitP">LitP</a> <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a></li><li>| <a href="#v:VarP">VarP</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></li><li>| <a href="#v:TupP">TupP</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</li><li>| <a href="#v:WildP">WildP</a></li><li>| <a href="#v:ListP">ListP</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</li><li>| <a href="#v:ConP">ConP</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Match">Match</a> = <a href="#v:Match">Match</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> <a href="Libraries-Template-Lifting.html#t:Body">Body</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Dec">Dec</a> = <a href="#v:ValD">ValD</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Body">Body</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Exp">Exp</a><ul class="subs"><li>= <a href="#v:VarE">VarE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></li><li>| <a href="#v:ConE">ConE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></li><li>| <a href="#v:LitE">LitE</a> <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a></li><li>| <a href="#v:AppE">AppE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li>| <a href="#v:LamE">LamE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li>| <a href="#v:TupE">TupE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>&#93;</li><li>| <a href="#v:CondE">CondE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li>| <a href="#v:LetE">LetE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Dec">Dec</a>&#93; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li>| <a href="#v:CaseE">CaseE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> &#91;<a href="Libraries-Template-Lifting.html#t:Match">Match</a>&#93;</li><li>| <a href="#v:ListE">ListE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>&#93;</li><li>| <a href="#v:ReturnE">ReturnE</a></li><li>| <a href="#v:MAppE">MAppE</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:BindS">BindS</a> = <a href="#v:BindS">BindS</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:doE">doE</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:BindS">BindS</a>&#93; -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:getVarNames">getVarNames</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Set.html#t:Set">Set</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></li><li class="src short"><a href="#v:substMatch">substMatch</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Match">Match</a></li><li class="src short"><a href="#v:substDec">substDec</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></li><li class="src short"><a href="#v:substExp">substExp</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:mapSubstExp">mapSubstExp</a> :: <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Strict.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:litTHtoExpAST">litTHtoExpAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:litTHtoPatAST">litTHtoPatAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a></li><li class="src short"><a href="#v:normalizePatInExp">normalizePatInExp</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> (&#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a>&#93;, <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Strict.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>)</li><li class="src short"><a href="#v:whereToLet">whereToLet</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; &#91;(<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>, <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>)&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:clauseToMatch">clauseToMatch</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a></li><li class="src short"><a href="#v:clausesToLambda">clausesToLambda</a> :: &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a>&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:expTHtoAST">expTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:matchTHtoAST">matchTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a></li><li class="src short"><a href="#v:bodyTHtoAST">bodyTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Body">Body</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:patTHtoAST">patTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Pat">Pat</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a></li><li class="src short"><a href="#v:firstLevelDecTHtoAST">firstLevelDecTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a>)</li><li class="src short"><a href="#v:decTHtoAST">decTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> (<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>, <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>)</li><li class="src short"><a href="#v:typReturnE">typReturnE</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Type">Type</a></li><li class="src short"><a href="#v:typMAppE">typMAppE</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Type">Type</a></li><li class="src short"><a href="#v:litASTtoTH">litASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a></li><li class="src short"><a href="#v:patASTtoTH">patASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Pat">Pat</a></li><li class="src short"><a href="#v:matchASTtoTH">matchASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Match">Match</a></li><li class="src short"><a href="#v:decASTtoTH">decASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a></li><li class="src short"><a href="#v:expASTtoTH">expASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:liftIntegerL">liftIntegerL</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:liftRationalL">liftRationalL</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:liftLitAST">liftLitAST</a> :: <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:liftPatAST">liftPatAST</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a></li><li class="src short"><a href="#v:liftMatchAST">liftMatchAST</a> :: <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a></li><li class="src short"><a href="#v:liftDecAST">liftDecAST</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></li><li class="src short"><a href="#v:liftFirstLevelDecAST">liftFirstLevelDecAST</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></li><li class="src short"><a href="#v:liftExpAST">liftExpAST</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></li><li class="src short"><a href="#v:makeDecTemplate">makeDecTemplate</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></li><li class="src short"><a href="#v:prettyPrintAST">prettyPrintAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:prettyPrintLiftExpTH">prettyPrintLiftExpTH</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:prettyPrintLiftExpAST">prettyPrintLiftExpAST</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:decToMonad">decToMonad</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93;</li><li class="src short"><a href="#v:expToMonad">expToMonad</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a></li></ul></div><div id="interface"><h1 id="g:1">Abstract syntax trees of a simplified language</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Body" class="def">Body</a> = <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-32" class="link">Source</a> <a href="#t:Body" class="selflink">#</a></p><div class="doc"><p>There are no &quot;guarded bodies&quot;. One net effect is to make the
 &quot;where&quot; construct equivalent to a simple &quot;let&quot;.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Lit" class="def">Lit</a> <a href="src/Libraries/Template/Lifting.html#line-35" class="link">Source</a> <a href="#t:Lit" class="selflink">#</a></p><div class="doc"><p>Literals.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CharL" class="def">CharL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Char.html#t:Char">Char</a></td><td class="doc"><p>Characters.</p></td></tr><tr><td class="src"><a id="v:IntegerL" class="def">IntegerL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>Integers.</p></td></tr><tr><td class="src"><a id="v:RationalL" class="def">RationalL</a> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Prelude.html#t:Rational">Rational</a></td><td class="doc"><p>Reals.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Lit" class="caption collapser" onclick="toggleSection('i:Lit')">Instances</p><div id="section.i:Lit" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Lit:Show:1" class="instance expander" onclick="toggleSection('i:id:Lit:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a></span> <a href="#t:Lit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Lit:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Lit">Lit</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Pat" class="def">Pat</a> <a href="src/Libraries/Template/Lifting.html#line-43" class="link">Source</a> <a href="#t:Pat" class="selflink">#</a></p><div class="doc"><p>Patterns.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LitP" class="def">LitP</a> <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a></td><td class="doc"><p>Literal.</p></td></tr><tr><td class="src"><a id="v:VarP" class="def">VarP</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></td><td class="doc"><p>Variable name.</p></td></tr><tr><td class="src"><a id="v:TupP" class="def">TupP</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</td><td class="doc"><p>Tuple.</p></td></tr><tr><td class="src"><a id="v:WildP" class="def">WildP</a></td><td class="doc"><p>Wildchar.</p></td></tr><tr><td class="src"><a id="v:ListP" class="def">ListP</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</td><td class="doc"><p>List as <code>&#91;...&#93;</code>.</p></td></tr><tr><td class="src"><a id="v:ConP" class="def">ConP</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93;</td><td class="doc"><p>Cons: <code>h:t</code>.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Pat" class="caption collapser" onclick="toggleSection('i:Pat')">Instances</p><div id="section.i:Pat" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Pat:Show:1" class="instance expander" onclick="toggleSection('i:id:Pat:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a></span> <a href="#t:Pat" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Pat:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Match" class="def">Match</a> <a href="src/Libraries/Template/Lifting.html#line-53" class="link">Source</a> <a href="#t:Match" class="selflink">#</a></p><div class="doc"><p>Match term construct.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Match" class="def">Match</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> <a href="Libraries-Template-Lifting.html#t:Body">Body</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Match" class="caption collapser" onclick="toggleSection('i:Match')">Instances</p><div id="section.i:Match" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Match:Show:1" class="instance expander" onclick="toggleSection('i:id:Match:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a></span> <a href="#t:Match" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Match:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Match">Match</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Dec" class="def">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-58" class="link">Source</a> <a href="#t:Dec" class="selflink">#</a></p><div class="doc"><p>First-level declaration.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ValD" class="def">ValD</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Body">Body</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Dec" class="caption collapser" onclick="toggleSection('i:Dec')">Instances</p><div id="section.i:Dec" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Dec:Show:1" class="instance expander" onclick="toggleSection('i:id:Dec:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></span> <a href="#t:Dec" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Dec:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Dec">Dec</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Exp" class="def">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-63" class="link">Source</a> <a href="#t:Exp" class="selflink">#</a></p><div class="doc"><p>Expression</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VarE" class="def">VarE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></td><td class="doc"><p>Variable name.</p></td></tr><tr><td class="src"><a id="v:ConE" class="def">ConE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a></td><td class="doc"><p>Constant name.</p></td></tr><tr><td class="src"><a id="v:LitE" class="def">LitE</a> <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a></td><td class="doc"><p>Literal.</p></td></tr><tr><td class="src"><a id="v:AppE" class="def">AppE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></td><td class="doc"><p>Application.</p></td></tr><tr><td class="src"><a id="v:LamE" class="def">LamE</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></td><td class="doc"><p>Lambda abstraction.</p></td></tr><tr><td class="src"><a id="v:TupE" class="def">TupE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>&#93;</td><td class="doc"><p>Tuple.</p></td></tr><tr><td class="src"><a id="v:CondE" class="def">CondE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></td><td class="doc"><p>If-then-else.</p></td></tr><tr><td class="src"><a id="v:LetE" class="def">LetE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Dec">Dec</a>&#93; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></td><td class="doc"><p>Let-construct.</p></td></tr><tr><td class="src"><a id="v:CaseE" class="def">CaseE</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> &#91;<a href="Libraries-Template-Lifting.html#t:Match">Match</a>&#93;</td><td class="doc"><p>Case distinction</p></td></tr><tr><td class="src"><a id="v:ListE" class="def">ListE</a> &#91;<a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>&#93;</td><td class="doc"><p>List: <code>&#91;...&#93;</code>.</p></td></tr><tr><td class="src"><a id="v:ReturnE" class="def">ReturnE</a></td><td class="doc"><p>hardcoded constant for <code><code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Control-Monad.html#v:return">return</a></code></code>.</p></td></tr><tr><td class="src"><a id="v:MAppE" class="def">MAppE</a></td><td class="doc"><p>hardcoded constant for <code><code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code></code>.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Exp" class="caption collapser" onclick="toggleSection('i:Exp')">Instances</p><div id="section.i:Exp" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Exp:Show:1" class="instance expander" onclick="toggleSection('i:id:Exp:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:Show">Show</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></span> <a href="#t:Exp" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Exp:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="doc"><p>Syntactic sugar to recover do-notation.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BindS" class="def">BindS</a> <a href="src/Libraries/Template/Lifting.html#line-82" class="link">Source</a> <a href="#t:BindS" class="selflink">#</a></p><div class="doc"><p>Datatype to encode the notation <code>x &lt;- expr</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BindS" class="def">BindS</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:doE" class="def">doE</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:BindS">BindS</a>&#93; -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-85" class="link">Source</a> <a href="#v:doE" class="selflink">#</a></p><div class="doc"><p>A simple <code>do</code>: list of monadic <code>let</code> followed by a computation.</p></div></div><h1 id="g:2">Variable substitution</h1><div class="top"><p class="src"><a id="v:getVarNames" class="def">getVarNames</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Set.html#t:Set">Set</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="src/Libraries/Template/Lifting.html#line-96" class="link">Source</a> <a href="#v:getVarNames" class="selflink">#</a></p><div class="doc"><p>Get the set of variable names in a pattern.</p></div></div><div class="top"><p class="src"><a id="v:substMatch" class="def">substMatch</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Match">Match</a> <a href="src/Libraries/Template/Lifting.html#line-103" class="link">Source</a> <a href="#v:substMatch" class="selflink">#</a></p><div class="doc"><p>Substitution in a <code><code><a href="Libraries-Template-Lifting.html#t:Match">Match</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:substDec" class="def">substDec</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-109" class="link">Source</a> <a href="#v:substDec" class="selflink">#</a></p><div class="doc"><p>Substitution in a <code><code><a href="Libraries-Template-Lifting.html#t:Dec">Dec</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:substExp" class="def">substExp</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-114" class="link">Source</a> <a href="#v:substExp" class="selflink">#</a></p><div class="doc"><p>Substitution in an <code><code><a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:mapSubstExp" class="def">mapSubstExp</a> :: <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Strict.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-132" class="link">Source</a> <a href="#v:mapSubstExp" class="selflink">#</a></p><div class="doc"><p>Substitution of several variables in one go.</p></div></div><h1 id="g:3">Downgrading Template Haskell to AST</h1><div class="top"><p class="src"><a id="v:litTHtoExpAST" class="def">litTHtoExpAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-139" class="link">Source</a> <a href="#v:litTHtoExpAST" class="selflink">#</a></p><div class="doc"><p>Downgrading TH literals to <code><code><a href="Libraries-Template-Lifting.html#t:Exp">Exp</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:litTHtoPatAST" class="def">litTHtoPatAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> <a href="src/Libraries/Template/Lifting.html#line-147" class="link">Source</a> <a href="#v:litTHtoPatAST" class="selflink">#</a></p><div class="doc"><p>Downgrading TH literals to <code><code><a href="Libraries-Template-Lifting.html#t:Pat">Pat</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:normalizePatInExp" class="def">normalizePatInExp</a> :: &#91;<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> (&#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a>&#93;, <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Strict.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Name">Name</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>) <a href="src/Libraries/Template/Lifting.html#line-159" class="link">Source</a> <a href="#v:normalizePatInExp" class="selflink">#</a></p><div class="doc"><p>Take a list of patterns coming from a <code>where</code> section and output
 a list of fresh names for normalized <code>let</code>s. Also gives a mapping
 for substituting inside the expressions. Assume all names in the
 list of patterns are distinct.</p></div></div><div class="top"><p class="src"><a id="v:whereToLet" class="def">whereToLet</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; &#91;(<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>, <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>)&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-180" class="link">Source</a> <a href="#v:whereToLet" class="selflink">#</a></p><div class="doc"><p>Build a <code>let</code>-expression out of pieces.</p></div></div><div class="top"><p class="src"><a id="v:clauseToMatch" class="def">clauseToMatch</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a> <a href="src/Libraries/Template/Lifting.html#line-191" class="link">Source</a> <a href="#v:clauseToMatch" class="selflink">#</a></p><div class="doc"><p>Build a <code><code><a href="Libraries-Template-Lifting.html#t:Match">Match</a></code></code> out of a TH clause</p></div></div><div class="top"><p class="src"><a id="v:clausesToLambda" class="def">clausesToLambda</a> :: &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a>&#93; -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-201" class="link">Source</a> <a href="#v:clausesToLambda" class="selflink">#</a></p><div class="doc"><p>From a list of TH clauses, make a case-distinction wrapped in a
 lambda abstraction.</p></div></div><div class="top"><p class="src"><a id="v:expTHtoAST" class="def">expTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-216" class="link">Source</a> <a href="#v:expTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade expressions.</p></div></div><div class="top"><p class="src"><a id="v:matchTHtoAST" class="def">matchTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a> <a href="src/Libraries/Template/Lifting.html#line-282" class="link">Source</a> <a href="#v:matchTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade match-constructs.</p></div></div><div class="top"><p class="src"><a id="v:bodyTHtoAST" class="def">bodyTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Body">Body</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-291" class="link">Source</a> <a href="#v:bodyTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade bodies into expressions.</p></div></div><div class="top"><p class="src"><a id="v:patTHtoAST" class="def">patTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Pat">Pat</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> <a href="src/Libraries/Template/Lifting.html#line-296" class="link">Source</a> <a href="#v:patTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade patterns.</p></div></div><div class="top"><p class="src"><a id="v:firstLevelDecTHtoAST" class="def">firstLevelDecTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a>) <a href="src/Libraries/Template/Lifting.html#line-313" class="link">Source</a> <a href="#v:firstLevelDecTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade first-level declarations.</p></div></div><div class="top"><p class="src"><a id="v:decTHtoAST" class="def">decTHtoAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> (<a href="Libraries-Template-Lifting.html#t:Pat">Pat</a>, <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a>) <a href="src/Libraries/Template/Lifting.html#line-335" class="link">Source</a> <a href="#v:decTHtoAST" class="selflink">#</a></p><div class="doc"><p>Downgrade any declarations (including the ones in <code>where</code>-constructs).</p></div></div><h1 id="g:4">Upgrade AST to Template Haskell</h1><div class="top"><p class="src"><a id="v:typReturnE" class="def">typReturnE</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Type">Type</a> <a href="src/Libraries/Template/Lifting.html#line-356" class="link">Source</a> <a href="#v:typReturnE" class="selflink">#</a></p><div class="doc"><p>Abstract syntax tree of the type of the function <code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Control-Monad.html#v:return">return</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:typMAppE" class="def">typMAppE</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Type">Type</a> <a href="src/Libraries/Template/Lifting.html#line-363" class="link">Source</a> <a href="#v:typMAppE" class="selflink">#</a></p><div class="doc"><p>Abstract syntax tree of the type of the function <code><a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:litASTtoTH" class="def">litASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Lit">Lit</a> <a href="src/Libraries/Template/Lifting.html#line-371" class="link">Source</a> <a href="#v:litASTtoTH" class="selflink">#</a></p><div class="doc"><p>Upgrade literals</p></div></div><div class="top"><p class="src"><a id="v:patASTtoTH" class="def">patASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Pat">Pat</a> <a href="src/Libraries/Template/Lifting.html#line-377" class="link">Source</a> <a href="#v:patASTtoTH" class="selflink">#</a></p><div class="doc"><p>Upgrade patterns.</p></div></div><div class="top"><p class="src"><a id="v:matchASTtoTH" class="def">matchASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Match">Match</a> <a href="src/Libraries/Template/Lifting.html#line-386" class="link">Source</a> <a href="#v:matchASTtoTH" class="selflink">#</a></p><div class="doc"><p>Upgrade match-constructs.</p></div></div><div class="top"><p class="src"><a id="v:decASTtoTH" class="def">decASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-392" class="link">Source</a> <a href="#v:decASTtoTH" class="selflink">#</a></p><div class="doc"><p>Upgrade declarations.</p></div></div><div class="top"><p class="src"><a id="v:expASTtoTH" class="def">expASTtoTH</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-400" class="link">Source</a> <a href="#v:expASTtoTH" class="selflink">#</a></p><div class="doc"><p>Upgrade expressions.</p></div></div><h1 id="g:5">Lifting AST terms (into AST terms)</h1><div class="top"><p class="src"><a id="v:liftIntegerL" class="def">liftIntegerL</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-459" class="link">Source</a> <a href="#v:liftIntegerL" class="selflink">#</a></p><div class="doc"><p>Variable referring to the lifting function for integers.</p></div></div><div class="top"><p class="src"><a id="v:liftRationalL" class="def">liftRationalL</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-463" class="link">Source</a> <a href="#v:liftRationalL" class="selflink">#</a></p><div class="doc"><p>Variable referring to the lifting function for reals.</p></div></div><div class="top"><p class="src"><a id="v:liftLitAST" class="def">liftLitAST</a> :: <a href="Libraries-Template-Lifting.html#t:Lit">Lit</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-467" class="link">Source</a> <a href="#v:liftLitAST" class="selflink">#</a></p><div class="doc"><p>Lifting literals.</p></div></div><div class="top"><p class="src"><a id="v:liftPatAST" class="def">liftPatAST</a> :: <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Pat">Pat</a> <a href="src/Libraries/Template/Lifting.html#line-473" class="link">Source</a> <a href="#v:liftPatAST" class="selflink">#</a></p><div class="doc"><p>Lifting patterns.</p></div></div><div class="top"><p class="src"><a id="v:liftMatchAST" class="def">liftMatchAST</a> :: <a href="Libraries-Template-Lifting.html#t:Match">Match</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Match">Match</a> <a href="src/Libraries/Template/Lifting.html#line-477" class="link">Source</a> <a href="#v:liftMatchAST" class="selflink">#</a></p><div class="doc"><p>Lifting match-constructs.</p></div></div><div class="top"><p class="src"><a id="v:liftDecAST" class="def">liftDecAST</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-483" class="link">Source</a> <a href="#v:liftDecAST" class="selflink">#</a></p><div class="doc"><p>Lifting declarations.</p></div></div><div class="top"><p class="src"><a id="v:liftFirstLevelDecAST" class="def">liftFirstLevelDecAST</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-489" class="link">Source</a> <a href="#v:liftFirstLevelDecAST" class="selflink">#</a></p><div class="doc"><p>Lifting first-level declarations.</p></div></div><div class="top"><p class="src"><a id="v:liftExpAST" class="def">liftExpAST</a> :: <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-495" class="link">Source</a> <a href="#v:liftExpAST" class="selflink">#</a></p><div class="doc"><p>Lifting expressions.</p></div></div><div class="top"><p class="src"><a id="v:makeDecTemplate" class="def">makeDecTemplate</a> :: <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> -&gt; <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Dec">Dec</a> <a href="src/Libraries/Template/Lifting.html#line-573" class="link">Source</a> <a href="#v:makeDecTemplate" class="selflink">#</a></p><div class="doc"><p>make a declaration into a template-declaration (by renaming with
 the template-prefix).</p></div></div><h1 id="g:6">Various pretty printing functions</h1><div class="top"><p class="src"><a id="v:prettyPrintAST" class="def">prettyPrintAST</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> () <a href="src/Libraries/Template/Lifting.html#line-583" class="link">Source</a> <a href="#v:prettyPrintAST" class="selflink">#</a></p><div class="doc"><p>pretty-printing Template Haskell declarations.</p></div></div><div class="top"><p class="src"><a id="v:prettyPrintLiftExpTH" class="def">prettyPrintLiftExpTH</a> :: <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> () <a href="src/Libraries/Template/Lifting.html#line-590" class="link">Source</a> <a href="#v:prettyPrintLiftExpTH" class="selflink">#</a></p><div class="doc"><p>Pretty-printing Template Haskell expressions.</p></div></div><div class="top"><p class="src"><a id="v:prettyPrintLiftExpAST" class="def">prettyPrintLiftExpAST</a> :: <a href="Libraries-Template-LiftQ.html#t:LiftQ">LiftQ</a> <a href="Libraries-Template-Lifting.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/System-IO.html#t:IO">IO</a> () <a href="src/Libraries/Template/Lifting.html#line-598" class="link">Source</a> <a href="#v:prettyPrintLiftExpAST" class="selflink">#</a></p><div class="doc"><p>Pretty-printing expressions.</p></div></div><h1 id="g:7">The main lifting functions.</h1><div class="top"><p class="src"><a id="v:decToMonad" class="def">decToMonad</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93; -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> &#91;<a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>&#93; <a href="src/Libraries/Template/Lifting.html#line-610" class="link">Source</a> <a href="#v:decToMonad" class="selflink">#</a></p><div class="doc"><p>Lift a list of declarations. The first argument is the name of
 the monad to lift into.</p></div></div><div class="top"><p class="src"><a id="v:expToMonad" class="def">expToMonad</a> :: <a href="http://hackage.haskell.org/package/base-4.9.0.0/docs/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="http://hackage.haskell.org/package/template-haskell-2.11.0.0/docs/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> <a href="src/Libraries/Template/Lifting.html#line-621" class="link">Source</a> <a href="#v:expToMonad" class="selflink">#</a></p><div class="doc"><p>Lift an expression. The first argument is the name of the monad
 to lift into.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>
